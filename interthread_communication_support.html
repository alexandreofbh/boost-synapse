<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
	<meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
	<title>interthread communication support</title>
	<link href='reno.css' type='text/css' rel='stylesheet'/>
</head>
<body>
<div class="body-0">
<div class="body-1">
<div class="body-2">
<div>
<div id="reverge_logo">
<a href="http://www.revergestudios.com"><img style="border:0" src="reverge.png" alt="Reverge"/></a>
</div>
<h1><a href="index.html">Boost Synapse</a></h1>
</div>
<!-- Copyright (c) 2015 Emil Dotchevski and Reverge Studios, Inc. -->
<!-- Distributed under the Boost Software License, Version 1.0. (See accompanying -->
<!-- file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt) -->
<div class="RenoIncludeDIV"><div class="RenoAutoDIV"><h3>Interthread Communication Support</h3>
</div>
<p><i><span class="RenoLink"><a href="index.html">Boost Synapse</a></span></i> can be used to implement interthread communication using <span class="RenoLink"><a href="Signal.html">Signals</a></span>. The data structures created by <i><span class="RenoLink"><a href="connect.html">connect</a></span></i> (or <i><span class="RenoLink"><a href="translate.html">translate</a></span></i>) use thread-local storage, so by default calling <i><span class="RenoLink"><a href="emit.html">emit</a></span></i> will call only the functions connected by the calling thread (and will not return until all such functions have been called in order, or one of them throws.)</p>
<p>The following diagram illustrates that process:</p>
<img class="fig" src="fig1.png" />
<p>However, if one or more other threads have created <i>thread_local_queue</i> objects by calling <i><span class="RenoLink"><a href="create_thread_local_queue.html">create_thread_local_queue</a></span></i>, <i><span class="RenoLink"><a href="emit.html">emit</a></span></i> will still immediately call the corresponding functions connected by calls to <i><span class="RenoLink"><a href="connect.html">connect</a></span></i> (or <i><span class="RenoLink"><a href="translate.html">translate</a></span></i>) from within the calling thread as usual, but in addition it will capture the arguments passed to <i><span class="RenoLink"><a href="emit.html">emit</a></span></i> and queue them into all active <i>thread_local_queue</i> objects created by <b>other</b> threads. Each such thread is required to continuously <i><span class="RenoLink"><a href="poll.html">poll</a></span></i> its <i>thread_local_queue</i>, which "emits" (calls the corresponding functions connected by the polling thread) all signals queued since the last polling, erasing them from the queue. The functions will be called in the order they have been emitted by the other threads.</p>
<p>This is illustrated by the following diagram:</p>
<img class="fig" src="fig2.png" />
</div><div class="RenoAutoDIV"><div class="RenoHR"><hr/></div>
See also: <span class="RenoPageList"><a href="index.html">Boost Synapse</a>&nbsp;| <a href="Tutorial.html">Tutorial</a></span>
</div>
<!-- Copyright (c) 2008-2013 Emil Dotchevski and Reverge Studios, Inc. -->
<!-- Distributed under the Boost Software License, Version 1.0. (See accompanying -->
<!-- file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt) -->
<div id="footer">
<p>
<a class="logo" href="http://jigsaw.w3.org/css-validator/check/referer"><img class="logo_pic" src="valid-css.png" alt="Valid CSS" height="31" width="88"/></a>
<a class="logo" href="http://validator.w3.org/check?uri=referer"><img class="logo_pic" src="valid-xhtml.png" alt="Valid XHTML 1.0" height="31" width="88"/></a>
<small>Copyright (c) 2015 by Emil Dotchevski and Reverge Studios, Inc.<br/>
Distributed under the <a href="http://www.boost.org/LICENSE_1_0.txt">Boost Software License, Version 1.0</a>.</small>
</p>
</div>
</div>
</div>
</div>
</body>
</html>
